
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  

    <link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet" media="screen">
    
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>

    <script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
  
    <title>How to Use ADB Command Line Tool | 晚晴幽草轩</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Jeffyang">
    

    
    <meta name="description" content="How to Use Android ADB Command Line ToolAndroid Debug Bridge (adb) is a tool that lets you manage the state of an emulator instance or Android phone. ADB is bundled with Android SDK package that can b">
<meta property="og:type" content="article">
<meta property="og:title" content="How to Use ADB Command Line Tool">
<meta property="og:url" content="http://jeffjade.github.io/2015/02/06/2015-02-06-adb-cmd/index.html">
<meta property="og:site_name" content="晚晴幽草轩">
<meta property="og:description" content="How to Use Android ADB Command Line ToolAndroid Debug Bridge (adb) is a tool that lets you manage the state of an emulator instance or Android phone. ADB is bundled with Android SDK package that can b">
<meta property="og:image" content="http://londatiga.net/images/adb/android_usb_debugging.jpg">
<meta property="og:image" content="http://londatiga.net/images/adb/android_adb_devices.jpg">
<meta property="og:image" content="http://londatiga.net/images/adb/android_adb_shell.jpg">
<meta property="og:image" content="http://londatiga.net/images/adb/android_adb_install.jpg">
<meta property="og:image" content="http://londatiga.net/images/adb/android_adb_pull.jpg">
<meta property="og:image" content="http://londatiga.net/images/adb/android_adb_push.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to Use ADB Command Line Tool">
<meta name="twitter:description" content="How to Use Android ADB Command Line ToolAndroid Debug Bridge (adb) is a tool that lets you manage the state of an emulator instance or Android phone. ADB is bundled with Android SDK package that can b">
<meta name="twitter:creator" content="@jeffjade2">

    
    <link rel="alternative" href="/atom.xml" title="晚晴幽草轩" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.ico">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.ico">
      
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/yingYang.png" alt="晚晴幽草轩" title="晚晴幽草轩"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="晚晴幽草轩">晚晴幽草轩</a></h1>
				<h2 class="blog-motto">It&#39;s only too late if you decide it is. Get busy living. or get busy dying!</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/About">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:jeffjade.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/02/06/2015-02-06-adb-cmd/" title="How to Use ADB Command Line Tool" itemprop="url">How to Use ADB Command Line Tool</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://jeffjade.github.io/about" title="Jeffyang" target="_blank" itemprop="author">Jeffyang</a>
		
  <p class="article-time">
    <time datetime="2015-02-06T10:00:00.000Z" itemprop="datePublished"> 发表于 2015-02-06</time>
    
  </p>
</header>
	<div class="article-content">
		
		<h2 id="How_to_Use_Android_ADB_Command_Line_Tool">How to Use Android ADB Command Line Tool</h2><p><a href="http://developer.android.com/tools/help/adb.html" target="_blank" rel="external">Android Debug Bridge</a> (adb) is a tool that lets you manage the state of an emulator instance or Android phone. ADB is bundled with Android SDK package that can be downloaded from Android SDK download page. This tool is usefull for communicating with Android phone such as install application, copy files from/to device and perform some linux shell commands.</p>
<a id="more"></a>
<hr>
<p><a href="http://www.growingwiththeweb.com/2014/01/handy-adb-commands-for-android.html" target="_blank" rel="external">Handy adb commands for Android</a></p>
<hr>
<h2 id="How_to_Install">How to Install</h2><p>Download and install <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk6-jsp-136632.html" target="_blank" rel="external">Java SDK</a> (Ex:jdk-6u20-windows-i586.exe)<br>Download <a href="http://developer.android.com/sdk/index.html" target="_blank" rel="external">Android SDK</a> package (Ex:android-sdk_r06-windows.zip)<br>Extract SDK package into anywhere on your drive (Ex: D:\android-sdk-windows)<br>Phone Setup</p>
<p>In order to use ADB, you have to enable USB Debugging option in  phone settings (Settings-&gt;Applications-&gt;Development)</p>
<p><img src="http://londatiga.net/images/adb/android_usb_debugging.jpg" alt="android_usb_debugging"></p>
<h2 id="How_to_Use">How to Use</h2><ul>
<li>Connect the phone to your pc/notebook usb port</li>
<li>Run Windows command line tool (cmd) and go to D:\android-sdk-windows\tool</li>
</ul>
<h3 id="Update!!">Update!!</h3><p>New Android SDK puts adb executable file on \platform-tools directory instead of tool. So the path should be D:\android-sdk-windows\platform-tools</p>
<h2 id="Usefull_Commands">Usefull Commands</h2><font color="purple" size="+2">1. Check connected phone</font>

<blockquote>
<p>Syntax: adb devices</p>
</blockquote>
<p><img src="http://londatiga.net/images/adb/android_adb_devices.jpg" alt="android_adb_devices"></p>
<font color="purple" size="+2">2. Login to Android shell</font>

<blockquote>
<p>Syntax: adb shell</p>
</blockquote>
<p><img src="http://londatiga.net/images/adb/android_adb_shell.jpg" alt="android_adb_shell"></p>
<p>Note:</p>
<p>If you get ‘#’ after typing adb shell, you are already get root access on the phone, no need to type su. Otherwise if you get ‘$’ , type ‘su’ to get root access (only for rooted device).</p>
<font color="purple" size="+2">3. Some usefull shell commands</font>

<ul>
<li>ls<br>List directory</li>
</ul>
<blockquote>
<p>Syntax:  ls [path]</p>
</blockquote>
<p>Example:</p>
<p>#ls /system/lib</p>
<ul>
<li>cp<br>Copy file or directory</li>
</ul>
<blockquote>
<p>Syntax: cp [options] source dest</p>
</blockquote>
<p>Note:</p>
<p>To copy or delete files in Android root directories you have to change the directory access mode to ‘read and write (rw)’ using command: remount rw</p>
<p>Example:</p>
<p>#remount rw</p>
<p>#cp /sdcard/libsec-ril.so /system/lib</p>
<p>#remount ro</p>
<ul>
<li>mv<br>Move file or directory</li>
</ul>
<blockquote>
<p>Syntax: mv [options] source dest</p>
</blockquote>
<p>Example:</p>
<p>#mv /system/lib/libsec-ril.so /sdcard/backup</p>
<ul>
<li>chmod<br>Change file/directory permission</li>
</ul>
<blockquote>
<p>Syntax: chmod [-R] mode[,mode] …. file</p>
</blockquote>
<p>Example:</p>
<p>#chmod 0644 /system/lib/libsec-ril.so</p>
<ul>
<li>rm<br>Remove file or directory</li>
</ul>
<blockquote>
<p>Syntax: rm [options] file</p>
</blockquote>
<p>Example:</p>
<p>#rm /system/lib/libsec-ril.so</p>
<font color="purple" size="+2">4. Install application</font>

<p>You can use adb to install aplication from your local drive into  phone.</p>
<blockquote>
<p>Syntax: adb install appname.apk</p>
</blockquote>
<p>Example:</p>
<p>D:\android-sdk-windows\tools\adb install D:\AnReboot.apk</p>
<p><img src="http://londatiga.net/images/adb/android_adb_install.jpg" alt="android_adb_install"></p>
<font color="purple" size="+2">5. Copy files from phone to local drive</font>

<blockquote>
<p>Syntax: adb pull source [destination]</p>
</blockquote>
<p>Example:</p>
<p>D:\android-sdk-windows\tools\adb pull /sdcard/arm11-dvm.zip</p>
<p>D:\android-sdk-windows\tools\adb pull /sdcard/arm11-dvm.zip D:\</p>
<p><img src="http://londatiga.net/images/adb/android_adb_pull.jpg" alt="android_adb_pull"></p>
<font color="purple" size="+2">6. Copy files from local drive to phone</font>

<blockquote>
<p>Syntax: adb push source destination</p>
</blockquote>
<p>Example:</p>
<p>D:\android-sdk-windows\tools\adb push D:\AnReboot.apk /sdcard</p>
<p><img src="http://londatiga.net/images/adb/android_adb_push.jpg" alt="android_adb_push"></p>
<p><a href="http://www.londatiga.net/it/how-to-use-android-adb-command-line-tool/" target="_blank" rel="external">To See The Original Link Please Click Here</a></p>
<hr>
<ol>
<li><p>获取序列号：</p>
<p>adb get-serialno</p>
</li>
<li><p>查看连接计算机的设备：</p>
<p>adb devices</p>
</li>
<li><p>重启机器：</p>
<p>adb reboot</p>
</li>
<li><p>重启到bootloader，即刷机模式：</p>
<p>adb reboot bootloader</p>
</li>
<li><p>重启到recovery，即恢复模式：</p>
<p>adb reboot recovery</p>
</li>
<li><p>查看log：</p>
<p>adb logcat</p>
</li>
<li><p>终止adb服务进程：</p>
<p>adb kill-server</p>
</li>
<li><p>重启adb服务进程：</p>
<p>adb start-server</p>
</li>
<li><p>获取机器MAC地址：</p>
<p>adb shell  cat /sys/class/net/wlan0/address</p>
</li>
<li><p>获取CPU序列号：</p>
<p>adb shell cat /proc/cpuinfo</p>
</li>
<li><p>安装APK：</p>
<p>adb install <apkfile> //比如：adb install baidu.apk</apkfile></p>
</li>
<li><p>保留数据和缓存文件，重新安装apk：</p>
<p>adb install -r <apkfile> //比如：adb install -r baidu.apk</apkfile></p>
</li>
<li><p>安装apk到sd卡：</p>
<p>adb install -s <apkfile> // 比如：adb install -s baidu.apk</apkfile></p>
</li>
<li><p>卸载APK：</p>
<p>adb uninstall <package> //比如：adb uninstall com.baidu.search</package></p>
</li>
<li><p>卸载app但保留数据和缓存文件：</p>
<p>adb uninstall -k <package> //比如：adb uninstall -k com.baidu.search</package></p>
</li>
<li><p>启动应用：</p>
<p>adb shell am start -n <package_name>/.<activity_class_name></activity_class_name></package_name></p>
</li>
<li><p>查看设备cpu和内存占用情况：</p>
<p>adb shell top</p>
</li>
<li><p>查看占用内存前6的app：</p>
<p>adb shell top -m 6</p>
</li>
<li><p>刷新一次内存信息，然后返回：</p>
<p>adb shell top -n 1</p>
</li>
<li><p>查询各进程内存使用情况：</p>
<p>adb shell procrank</p>
</li>
<li><p>杀死一个进程：</p>
<p>adb shell kill [pid]</p>
</li>
<li><p>查看进程列表：</p>
<p>adb shell ps</p>
</li>
<li><p>查看指定进程状态：</p>
<p>adb shell ps -x [PID]</p>
</li>
<li><p>查看后台services信息：</p>
<p>adb shell service list</p>
</li>
<li><p>查看当前内存占用：</p>
<p>adb shell cat /proc/meminfo</p>
</li>
<li><p>查看IO内存分区：</p>
<p>adb shell cat /proc/iomem</p>
</li>
<li><p>将system分区重新挂载为可读写分区：</p>
<p>adb remount</p>
</li>
<li><p>从本地复制文件到设备：</p>
<p>adb push <local> <remote></remote></local></p>
</li>
<li><p>从设备复制文件到本地：</p>
<p>adb pull <remote>  <local></local></remote></p>
</li>
<li><p>列出目录下的文件和文件夹，等同于dos中的dir命令：</p>
<p>adb shell ls</p>
</li>
<li><p>进入文件夹，等同于dos中的cd 命令：</p>
<p>adb shell cd <folder></folder></p>
</li>
<li><p>重命名文件：</p>
<p>adb shell rename path/oldfilename path/newfilename</p>
</li>
<li><p>删除system/avi.apk：</p>
<p>adb shell rm /system/avi.apk</p>
</li>
<li><p>删除文件夹及其下面所有文件：</p>
<p>adb shell rm -r <folder></folder></p>
</li>
<li><p>移动文件：</p>
<p>adb shell mv path/file newpath/file</p>
</li>
<li><p>设置文件权限：</p>
<p>adb shell chmod 777 /system/fonts/DroidSansFallback.ttf</p>
</li>
<li><p>新建文件夹：</p>
<p>adb shell mkdir path/foldelname</p>
</li>
<li><p>查看文件内容：</p>
<p>adb shell cat <file></file></p>
</li>
<li><p>查看wifi密码：</p>
<p>adb shell cat /data/misc/wifi/*.conf</p>
</li>
<li><p>清除log缓存：</p>
<p>adb logcat -c</p>
</li>
<li><p>查看bug报告：</p>
<p>adb bugreport</p>
</li>
<li><p>获取设备名称：</p>
<p>adb shell cat /system/build.prop</p>
</li>
<li><p>查看ADB帮助：</p>
<p>adb help</p>
</li>
<li><p>跑monkey：</p>
<p>adb shell monkey -v -p your.package.name 500</p>
</li>
<li><p>访问数据库SQLite3<br>adb shell<br>sqlite3 </p>
</li>
</ol>
<hr>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Android/">Android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Adb/">Adb</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://jeffjade.github.io/2015/02/06/2015-02-06-adb-cmd/" data-title="How to Use ADB Command Line Tool | 晚晴幽草轩" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/02/09/2015-02-09-android-intent/" title="Android之Intent用法全面总结">
  <strong>上一篇：</strong><br/>
  <span>
  Android之Intent用法全面总结</span>
</a>
</div>


<div class="next">
<a href="/2015/02/02/2015-02-02-thoughtof-overtime-work/"  title="关于加班这件事儿的随想">
 <strong>下一篇：</strong><br/> 
 <span>关于加班这件事儿的随想
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2015/02/06/2015-02-06-adb-cmd/" data-title="How to Use ADB Command Line Tool" data-url="http://jeffjade.github.io/2015/02/06/2015-02-06-adb-cmd/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#How_to_Use_Android_ADB_Command_Line_Tool"><span class="toc-number">1.</span> <span class="toc-text">How to Use Android ADB Command Line Tool</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How_to_Install"><span class="toc-number">2.</span> <span class="toc-text">How to Install</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How_to_Use"><span class="toc-number">3.</span> <span class="toc-text">How to Use</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Update!!"><span class="toc-number">3.1.</span> <span class="toc-text">Update!!</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Usefull_Commands"><span class="toc-number">4.</span> <span class="toc-text">Usefull Commands</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>9</sup></a></li>
		  
		
		  
			<li><a href="/categories/Health/" title="Health">Health<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Internet/" title="Internet">Internet<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java/" title="Java">Java<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Lua/" title="Lua">Lua<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/Program/" title="Program">Program<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Read/" title="Read">Read<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Share/" title="Share">Share<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Thought/" title="Thought">Thought<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/Toss/" title="Toss">Toss<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Travel/" title="Travel">Travel<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Web/" title="Web">Web<sup>4</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Thought/" title="Thought">Thought<sup>19</sup></a></li>
			
		
			
				<li><a href="/tags/Share/" title="Share">Share<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/Lua/" title="Lua">Lua<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Toss/" title="Toss">Toss<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Android/" title="Android">Android<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Travel/" title="Travel">Travel<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Mac/" title="Mac">Mac<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Read/" title="Read">Read<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/JavaScript/" title="JavaScript">JavaScript<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/CSS/" title="CSS">CSS<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Music/" title="Music">Music<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Health/" title="Health">Health<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Adb/" title="Adb">Adb<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Git/" title="Git">Git<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/SSH/" title="SSH">SSH<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Markdown/" title="Markdown">Markdown<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Http/" title="Http">Http<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Movie/" title="Movie">Movie<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://blog.codingnow.com" target="_blank" title="云风Blog">云风Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://cnfeat.com" target="_blank" title="陈素封">陈素封</a>
            
          </li>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="码农圈">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.williamlong.info/" target="_blank" title="月光博客">月光博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://coolshell.cn/" target="_blank" title="酷壳－陈浩">酷壳－陈浩</a>
            
          </li>
        
    </ul>
</div>

  

<div class="doubanshow">
<p class="asidetitle">豆瓣秀</p>
<div>
<script type="text/javascript" src="http://www.douban.com/service/badge/http://www.douban.com/people/125966439//?show=collection&amp;n=12&amp;columns=3&amp;hidelogo=yes&amp;hideself=yes&amp;cat=book|movie" ></script>
</div>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 追求卓越，成功就会在不经意间 追上你！ <br/>
			As you think, so shall you become. </p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/3235949794" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/jeffjade" target="_blank" class="icon-github" title="github"></a>
		
		
		
		<a href="https://twitter.com/jeffjade2" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		<a href="https://www.facebook.com/100006379368522" target="_blank" class="icon-facebook" title="facebook"></a>
		
		
		
		<a href="http://www.douban.com/people/125966439/" target="_blank" class="icon-douban" title="豆瓣"></a>
		
		
		
		
		<a href="mailto:yunjeff@163.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2015 
		
		<a href="http://jeffjade.github.io/about" target="_blank" title="Jeffyang">Jeffyang</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          c.click();
        }
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#nothing"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"jeffjade"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fd0ed9bb72df3b2b32bdd2274981a7d07' type='text/javascript'%3E%3C/script%3E"));
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->
  </body>
</html>
